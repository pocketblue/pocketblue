[Unit]
# Override for Fairphone 5 to handle ADSP initialization timing
# The LPASS audio clock controller can cause deferred probe delays
# which may prevent fastrpc-adsp from being available immediately

# Wait for remoteproc to be ready
After=sys-devices-platform-soc\x400-3700000.remoteproc.device

# Don't hard-fail if fastrpc-adsp device times out
# The service can retry or sensors can work in degraded mode
StartLimitIntervalSec=300
StartLimitBurst=5

[Service]
# Allow retries
Restart=on-failure
RestartSec=5
