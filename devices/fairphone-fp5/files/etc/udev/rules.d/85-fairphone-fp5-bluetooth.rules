# Fairphone 5 Bluetooth (WCN6750/QCA) udev rules
# Ensure proper initialization and permissions for the Bluetooth HCI device

# When the HCI device appears, tag it for systemd and set permissions
ACTION=="add", SUBSYSTEM=="bluetooth", KERNEL=="hci*", TAG+="systemd", ENV{SYSTEMD_WANTS}+="fairphone-fp5-bluetooth.service"

# QCA serial Bluetooth device - ensure firmware can be loaded
ACTION=="add", SUBSYSTEM=="tty", KERNEL=="ttyHS0", MODE="0660", GROUP="dialout"

# Allow bluetooth group access to HCI device
SUBSYSTEM=="bluetooth", MODE="0660", GROUP="bluetooth"
